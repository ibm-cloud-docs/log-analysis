---

copyright:
  years:  2018, 2024
lastupdated: "2024-05-24"

keywords:

subcollection: log-analysis

---

{{site.data.keyword.attribute-definition-list}}

# Working with events in a region where {{site.data.keyword.at_full_notm}} is not available (WIP)
{: #move-events-atracker}

There can be situations where you need to move instances of one or more of the {{site.data.keyword.IBM_notm}} observability services from one {{site.data.keyword.cloud_notm}} region to another.
{: shortdesc}


{{_include-segments/deprecation_notice.md}}

Across {{site.data.keyword.cloud_notm}}, services  by which auditing events are sent to a region that is different to the one where the generating service is located:
- The {{site.data.keyword.at_full_notm}} service is not available in all the regions where the service that generates auditing events is available.

    For example, services like VPC are available in the Madrid region before {{site.data.keyword.at_full_notm}} is available. These services send their auditing events to the closest region, in thios example, Frankfurt.

-

For example, {{site.data.keyword.IBM_notm}} makes a new [MZR](/docs/overview?topic=overview-locations) available where you want to move your instance and data. Or, your business needs have changed and you need to move your instance from one region to another.


## Understanding the data sent
{: #understand_services}

{{site.data.keyword.at_full_notm}} provides the ability to collect auditing events for enabled {{site.data.keyword.cloud_notm}} services.  Some services might require a service plan upgrade or configuration setting changes to enable event tracking. Auditing events can help you investigate abnormal activity and critical actions.

There are two types of events:

Location-based
:   Location-based events are events that are associated with services running in a particular {{site.data.keyword.cloud_notm}} region.

Global
:   Global events are events generated by services that provide services for {{site.data.keyword.cloud_notm}} as a whole. An example of a service that generates global events is {{site.data.keyword.iamlong}}.

{{site.data.keyword.at_full_notm}} has two different options depending on your requirements.

* {{site.data.keyword.atracker_full_notm}} is required for environments needing to maintain Financial Services (FS) validation status.

* {{site.data.keyword.at_full_notm}} hosted event search is used if you need to comply with PCI, SOC2, Privacy Shield, and HIPAA requirements.

Where you can route events is dependent on the option you select:

{{site.data.keyword.at_full_notm}} hosted event search
:   Location-based events are routed to the {{site.data.keyword.at_full_notm}} hosted event search instance in the region where they are generated and global events are routed to the {{site.data.keyword.at_full_notm}} hosted event search instance provisioned in Frankfurt (`eu-de`). If you want to consolidate events into a single instance you can configure streaming to route events from the instance initially collecting the events to your desired {{site.data.keyword.at_full_notm}} hosted event search instance.

{{site.data.keyword.atracker_full_notm}}
:   Events are routed based on a field value included in the event. You can define a set of routes, targets, and rules to determine where the events will be sent and stored. Events can be routed to a {{site.data.keyword.at_full_notm}} hosted event search instance, a {{site.data.keyword.cos_full_notm}} bucket, or {{site.data.keyword.messagehub_full}}.

For compliance purposes you might have to maintain your data within a particular country or region.
{: important}

{{site.data.keyword.at_full_notm}} hosted event search also provides a dashboard allowing you to filter, view, create customer views and search events within an {{site.data.keyword.at_full_notm}} hosted event search instance. You can also set up alerts based on your defined criteria.

Each {{site.data.keyword.cloud_notm}} service documents the {{site.data.keyword.at_full_notm}} events that it collects.  See [{{site.data.keyword.at_full_notm}} hosted event search events](/docs/activity-tracker?topic=activity-tracker-cloud_services) and [{{site.data.keyword.atracker_full_notm}} events](/docs/atracker?topic=atracker-cloud_services_atracker) for information on the services sending events and the events that are sent.



## Migrating {{site.data.keyword.at_short}} instances
{: #migrate_at}

When migrating an {{site.data.keyword.at_full_notm}} hosted event search instance you need to consider the following.

* Is {{site.data.keyword.at_full_notm}} hosted event search [available in the region](/docs/activity-tracker?topic=activity-tracker-regions) where you want to move your instance?
* Do you have streaming configured?
* Do you have archiving configured?
* Have you cusomized your existing {{site.data.keyword.at_full_notm}} hosted event search UI in any way and will your new instance require the same customizations?
* Have you configured any alerts on your existing instance?

### Migration steps
{: #migrate_at_steps}

1. [Create a new {{site.data.keyword.at_full_notm}} hosted event search instance](docs/activity-tracker?topic=activity-tracker-provision) in your [desired region.](/docs/activity-tracker?topic=activity-tracker-regions)

2. [Configure access](/docs/activity-tracker?topic=activity-tracker-iam) for the new instance.

3. On the new instance, configure any desired streaming.

   * To another [{{site.data.keyword.at_full_notm}} hosted event search instance.](/docs/activity-tracker?topic=activity-tracker-streaming-configure-l2l)

   * To an [{{site.data.keyword.messagehub_full}} instance.](/docs/activity-tracker?topic=activity-tracker-streaming-monitor)

4. On the new instance, configure any desired [archiving.](/docs/activity-tracker?topic=activity-tracker-archiving-ov)

5. [Customize the UI](/docs/activity-tracker?topic=activity-tracker-config) for the new instance as needed.

6. Create any [alerts](/docs/activity-tracker?topic=activity-tracker-alerts) required for your organization on the new instance.

Run your current {{site.data.keyword.at_short}} instance and new {{site.data.keyword.at_short}} instance in parallel for a period of time to make sure your new instance is configured as desired.
{: tip}

When the old instance is no longer required, it can be [removed.](/docs/activity-tracker?topic=activity-tracker-remove)

## Migrating {{site.data.keyword.atracker_full_notm}} instances
{: #migrate_atracker}

Because you do not create an {{site.data.keyword.atracker_full_notm}} instance, you will not move an instance from one region to another. Instead, you might need to change your target definitions from one {{site.data.keyword.atracker_full_notm}} target to another.

1. {{site.data.keyword.atracker_full_notm}} can route events to [different target types.](/docs/atracker?topic=atracker-target_v2&interface=cli#target_v2_types) If you need to create a new instance to be used as a target, create and configure the new instances.

   If your new target is an {{site.data.keyword.at_full_notm}} hosted event search instance that you are migrating, complete the [{{site.data.keyword.at_full_notm}} hosted event search migration steps first.](#migrate_at_steps)

2. [Create a report of your current configuration.](/docs/atracker?topic=atracker-config_report_v2)

3. Configure your new target according to your target type.

   * [{{site.data.keyword.cos_full_notm}} (COS)](/docs/atracker?topic=atracker-target_v2_cos)
   * [{{site.data.keyword.atracker_full_notm}} hosted event search](/docs/atracker?topic=atracker-target_v2_at)
   * [{{site.data.keyword.messagehub_full}} (Event Streams)](/docs/atracker?topic=atracker-target_v2_ies)

4. Using your current configuration, [configure routes to your new target](/docs/atracker?topic=atracker-route_v2)

5. [Create a report of your new configuration.](/docs/atracker?topic=atracker-config_report_v2) and review that the configuration is as desired.

6. Verify that your events are correctly flowing to your new target location.

7. When you are ready to move to the new target, check that your default target definition does not refer to your old target. If so, [reconfigure your default targets](/docs/atracker?topic=atracker-settings) to refer to your new, or preferred, default targets.

8. Delete the routes to the old target. For more information, see [Deleting a route](/docs/atracker?topic=atracker-route_v2&interface=cli#route-delete-cli).

9. Delete the old target.

   * [{{site.data.keyword.cos_full_notm}} (COS)](/docs/atracker?topic=atracker-target_v2_cos&interface=cli#target-delete-cli-cos)
   * [{{site.data.keyword.atracker_full_notm}} hosted event search](/docs/atracker?topic=atracker-target_v2_at&interface=cli#target-delete-cli-at)
   * [{{site.data.keyword.messagehub_full}} (Event Streams)](/docs/atracker?topic=atracker-target_v2_ies&interface=cli#target-delete-cli-ies)

10. [Create a report of your final configuration.](/docs/atracker?topic=atracker-config_report_v2) and review that the configuration is as desired.
