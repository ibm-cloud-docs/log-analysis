---

copyright:
  years:  2018, 2024
lastupdated: "2025-03-25"

keywords:

subcollection: log-analysis

---

{{site.data.keyword.attribute-definition-list}}

# Moving your instance from one region to another
{: #move_region}

There can be situations where you need to move your instance from one {{site.data.keyword.cloud_notm}} region to another.
{: shortdesc}


{{_include-segments/deprecation_notice.md}}

To move your instance to another region, do the following:

## Export the configuration for your existing instance
{: #move_export}
{: step}

1. Use the following instructions to export your views, boards, parsing templates, and exclusion rules.

   * [{{site.data.keyword.la_full_notm}} instances](/docs/log-analysis?topic=log-analysis-reuse_resource_definitions&interface=ui)

   * [{{site.data.keyword.at_full_notm}} instances](/docs/activity-tracker?topic=activity-tracker-reuse_resource_definitions) 

2. Determine the alerts you have configured in your existing instance.

   *UI method:*
   1. In the web UI, select the **Settings** icon ![Settings icon](images/admin.png "Settings icon").
   2. Select **Alerts**.
   3. Make note of any preset alerts you will need in your moved instance.

   *API method:*
   * [{{site.data.keyword.la_full_notm}} instances](/docs/log-analysis?topic=log-analysis-preset-api)
   * [{{site.data.keyword.at_full_notm}} instances](/docs/activity-tracker?topic=activity-tracker-preset-api) 


2. If you are moving an {{site.data.keyword.la_full_notm}} instance, get your logging agent configuration by running the following command:
{: #move_agent_config}

   ```sh
   kubectl get daemonset logdna-agent -n ibm-observe -o=yaml > prod-agent-resources.yaml
   ```
   {: pre}

## Grant permissions in the new region
{: #move_iam}
{: step}

1. Get the latest access report to map the permissions for the instance.

   1. [Log in to your {{site.data.keyword.cloud_notm}} account](https://cloud.ibm.com/login){: external}.

   2. Click the **Menu** icon ![Menu icon](../icons/icon_hamburger.svg) &gt; **Observability**.

   3. Click **Logging** for an {{site.data.keyword.la_full_notm}} instance or **Activity tracking** for an {{site.data.keyword.at_full_notm}} instance.

      The list of instances that are available on {{site.data.keyword.cloud_notm}} is displayed.

   4. For the instance that you are moving, click the **Actions** icon ![Actions icon](../../icons/action-menu-icon.svg "Actions").

   5. Click **Access report**.

   6. Download the report as a CSV file.

2. Configure the access required for your instance.

   * [{{site.data.keyword.la_full_notm}} instances](/docs/log-analysis?topic=log-analysis-iam)

   * [{{site.data.keyword.at_full_notm}} instances](/docs/activity-tracker?topic=activity-tracker-iam) 

If you use access groups, add new policies for the new instances. The users and service IDs within an access group will inherit the new policies.

If you define permissions by users and service IDs, you must update permissions for each user and for each service ID.

## Create an instance in the new region
{: #move_provision}
{: step}

Create an instance of the service you require in the new region.

### {{site.data.keyword.la_full_notm}} instance
{: #move_provision_la}

1. [Create a new {{site.data.keyword.la_full_notm}} instance](/docs/log-analysis?topic=log-analysis-provision) in your [desired region.](/docs/log-analysis?topic=log-analysis-regions)

2. Ensure you have an {{site.data.keyword.la_full_notm}} instance [configured to receive platform logs.](/docs/log-analysis?topic=log-analysis-config_svc_logs)

   Platform logs are logs generated by the {{site.data.keyword.cloud_notm}}. These logs can be sent to only one {{site.data.keyword.la_full_notm}} instance in a region.
   {: note}

3. Modify the [agent configuration file](#move_agent_config) (`prod-agent-resources.yaml`) and change the `LOGDNA_HOST` value to reference the endpoint in the new region.

4. Update the Kubernetes secret with the new ingestion key.

5. Deploy the [agent](/docs/log-analysis?topic=log-analysis-log_analysis_agent) with the updated `prod-agent-resources.yaml` file.

6. [Import](/docs/log-analysis?topic=log-analysis-reuse_resource_definitions&interface=ui) your [exported configuration file](#move_export) to the new instance.

### {{site.data.keyword.at_full_notm}} instance
{: #move_provision_at}

1. [Create a new {{site.data.keyword.at_full_notm}} instance](/docs/activity-tracker?topic=activity-tracker-provision) in your [desired region.](/docs/activity-tracker?topic=activity-tracker-regions)

2. [Import](/docs/activity-tracker?topic=activity-tracker-reuse_resource_definitions) your [exported configuration file](#move_export) to the new instance.

## Add users to the instance in the new region
{: #move_add_users}
{: step}

Follow the steps to add users to the instance in the new region:

* [{{site.data.keyword.la_full_notm}} instances](/docs/log-analysis?topic=log-analysis-iam_view_events)

* [{{site.data.keyword.at_full_notm}} instances](/docs/activity-tracker?topic=activity-tracker-iam_view_events) 


## Prepare to move to {{site.data.keyword.logs_full_notm}}
{: #move_icl}
{: step}

To prepare for migration to {{site.data.keyword.logs_full_notm}}, do the following:

1. Run the following command to get the details about your current instance:

```text
ibmcloud iam service-instance instanceName --output JSON 
```
{: pre}

2. Run the [{{site.data.keyword.logs_full_notm}} migration tool](/docs/cloud-logs?topic=cloud-logs-migration_cli#logging-migrate-create-resources) to create the migration files.

```text
ibmcloud logging migrate create-resources --scope instance --instance-crn LogDNAinstanceCRN --ecrn EventNotificationsCRN
```
{: pre}

3. Generate an access report for the instance to be migrated.

   1. [Log in to your {{site.data.keyword.cloud_notm}} account](https://cloud.ibm.com/login){: external}.

   2. Click the **Menu** icon ![Menu icon](../icons/icon_hamburger.svg) &gt; **Observability**.

   3. Click **Logging** for an {{site.data.keyword.la_full_notm}} instance or **Activity tracking** for an {{site.data.keyword.at_full_notm}} instance.

      The list of instances that are available on {{site.data.keyword.cloud_notm}} is displayed.

   4. For the instance you are moving, click the ![Actions icon](../../icons/action-menu-icon.svg "Actions").

   5. Click **Access report**.

   6. Download the report as a CSV file.

4. Check for user groups in your instance's views. Take a screenshot of the apps or sources that make up the view.


