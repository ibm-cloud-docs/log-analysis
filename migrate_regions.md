---

copyright:
  years:  2018, 2024
lastupdated: "2024-05-24"

keywords:

subcollection: log-analysis

---

{{site.data.keyword.attribute-definition-list}}

# Migrating instances from one region to another (WIP)
{: #migrate_regions}

There can be situations where you need to move instances of one or more of the {{site.data.keyword.IBM_notm}} observability services from one {{site.data.keyword.cloud_notm}} region to another.
{: shortdesc}


{{_include-segments/deprecation_notice.md}}

For example, {{site.data.keyword.IBM_notm}} makes a new [MZR](/docs/overview?topic=overview-locations) available where you want to move your instance and data. Or, your business needs have changed and you need to move your instance from one region to another.

This topic guides you in migrating instances of the following services:

* {{site.data.keyword.at_full_notm}}
* {{site.data.keyword.atracker_full_notm}}
* {{site.data.keyword.la_full_notm}}
* {{site.data.keyword.mon_full_notm}}
* {{site.data.keyword.metrics_router_full_notm}}

## Understanding the data sent to each service
{: #understand_services}

### Activity tracking
{: #understand_at}

{{site.data.keyword.at_full_notm}} provides the ability to collect auditing events for enabled {{site.data.keyword.cloud_notm}} services.  Some services might require a service plan upgrade or configuration setting changes to enable event tracking.

Auditing events can help you investigate abnormal activity and critical actions.  Event tracking can help you comply with regulatory audit requirements since the events that are collected comply with the Cloud Auditing Data Federation (CADF) standard.

There are two types of events:

Location-based
:   Location-based events are events that are associated with services running in a particular {{site.data.keyword.cloud_notm}} region.

Global
:   Global events are events generated by services that provide services for {{site.data.keyword.cloud_notm}} as a whole. An example of a service that generates global events is {{site.data.keyword.iamlong}}.

{{site.data.keyword.at_full_notm}} has two different options depending on your requirements.

* {{site.data.keyword.atracker_full_notm}} is required for environments needing to maintain Financial Services (FS) validation status.

* {{site.data.keyword.at_full_notm}} hosted event search is used if you need to comply with PCI, SOC2, Privacy Shield, and HIPAA requirements.

Where you can route events is dependent on the option you select:

{{site.data.keyword.at_full_notm}} hosted event search
:   Location-based events are routed to the {{site.data.keyword.at_full_notm}} hosted event search instance in the region where they are generated and global events are routed to the {{site.data.keyword.at_full_notm}} hosted event search instance provisioned in Frankfurt (`eu-de`). If you want to consolidate events into a single instance you can configure streaming to route events from the instance initially collecting the events to your desired {{site.data.keyword.at_full_notm}} hosted event search instance.

{{site.data.keyword.atracker_full_notm}}
:   Events are routed based on a field value included in the event. You can define a set of routes, targets, and rules to determine where the events will be sent and stored. Events can be routed to a {{site.data.keyword.at_full_notm}} hosted event search instance, a {{site.data.keyword.cos_full_notm}} bucket, or {{site.data.keyword.messagehub_full}}.

For compliance purposes you might have to maintain your data within a particular country or region.
{: important}

{{site.data.keyword.at_full_notm}} hosted event search also provides a dashboard allowing you to filter, view, create customer views and search events within an {{site.data.keyword.at_full_notm}} hosted event search instance. You can also set up alerts based on your defined criteria.

Each {{site.data.keyword.cloud_notm}} service documents the {{site.data.keyword.at_full_notm}} events that it collects.  See [{{site.data.keyword.at_full_notm}} hosted event search events](/docs/activity-tracker?topic=activity-tracker-cloud_services) and [{{site.data.keyword.atracker_full_notm}} events](/docs/atracker?topic=atracker-cloud_services_atracker) for information on the services sending events and the events that are sent.

## Logging
{: #understanding_logging}

You can use {{site.data.keyword.la_full_notm}} to manage operating system logs, application logs, and platform logs in the {{site.data.keyword.cloud_notm}}. {{site.data.keyword.la_full_notm}} offers administrators, DevOps teams, and developers advanced features to view, filter, search, and tail log data, define alerts, and design custom views to monitor logs.

Platform logs are logs generated by the {{site.data.keyword.cloud_notm}}. These logs can be sent to only one {{site.data.keyword.la_full_notm}} instance in a region.
{: note}

Each service documents the logs that it sends to {{site.data.keyword.la_full_notm}}.  See [{{site.data.keyword.cloud_notm}} services that generate {{site.data.keyword.la_short}} logs](/docs/log-analysis?topic=log-analysis-cloud_services) for information on the services sending logs and the type of logs that are sent.

Logs are sent to {{site.data.keyword.la_full_notm}} in the region where the service is located. Logs can be routed from a {{site.data.keyword.la_full_notm}} instance to a different {{site.data.keyword.la_full_notm}} if you want to consolidate all your log information into a single {{site.data.keyword.la_full_notm}} instance.

For compliance purposes you might have to maintain your data within a particular country or region.
{: important}

## Monitoring
{: #understanding_monitoring}

{{site.data.keyword.mon_full_notm}} provides dashboards that allow you to gain operational visibility into the performance and health of your applications, services and platforms. You can monitor and troubleshoot issues and define alerts based on specific operational criteria.  You can also create custom dashboards to meet your organization's needs.

{{site.data.keyword.metrics_router_full_notm}} provides additional flexibility to route metrics to configured {{site.data.keyword.mon_full_notm}} instances based on defined rules.

Each {{site.data.keyword.cloud_notm}} service documents the metrics that it sends to {{site.data.keyword.mon_full_notm}}.  See [Service generating metrics](/docs/monitoring?topic=monitoring-cloud_services) for information on the services sending metrics and the type of metrics that are sent.

Platform metrics are metrics generated by the {{site.data.keyword.cloud_notm}}. These metrics can be sent to only one {{site.data.keyword.mon_full_notm}} instance in a region.
{: note}

## Migrating {{site.data.keyword.at_short}} instances
{: #migrate_at}

When migrating an {{site.data.keyword.at_full_notm}} hosted event search instance you need to consider the following.

* Is {{site.data.keyword.at_full_notm}} hosted event search [available in the region](/docs/activity-tracker?topic=activity-tracker-regions) where you want to move your instance?
* Do you have streaming configured?
* Do you have archiving configured?
* Have you cusomized your existing {{site.data.keyword.at_full_notm}} hosted event search UI in any way and will your new instance require the same customizations?
* Have you configured any alerts on your existing instance?

### Migration steps
{: #migrate_at_steps}

1. [Create a new {{site.data.keyword.at_full_notm}} hosted event search instance](docs/activity-tracker?topic=activity-tracker-provision) in your [desired region.](/docs/activity-tracker?topic=activity-tracker-regions)

2. [Configure access](/docs/activity-tracker?topic=activity-tracker-iam) for the new instance.

3. On the new instance, configure any desired streaming.

   * To another [{{site.data.keyword.at_full_notm}} hosted event search instance.](/docs/activity-tracker?topic=activity-tracker-streaming-configure-l2l)

   * To an [{{site.data.keyword.messagehub_full}} instance.](/docs/activity-tracker?topic=activity-tracker-streaming-monitor)

4. On the new instance, configure any desired [archiving.](/docs/activity-tracker?topic=activity-tracker-archiving-ov)

5. [Customize the UI](/docs/activity-tracker?topic=activity-tracker-config) for the new instance as needed.

6. Create any [alerts](/docs/activity-tracker?topic=activity-tracker-alerts) required for your organization on the new instance.

Run your current {{site.data.keyword.at_short}} instance and new {{site.data.keyword.at_short}} instance in parallel for a period of time to make sure your new instance is configured as desired.
{: tip}

When the old instance is no longer required, it can be [removed.](/docs/activity-tracker?topic=activity-tracker-remove)

## Migrating {{site.data.keyword.atracker_full_notm}} instances
{: #migrate_atracker}

Because you do not create an {{site.data.keyword.atracker_full_notm}} instance, you will not move an instance from one region to another. Instead, you might need to change your target definitions from one {{site.data.keyword.atracker_full_notm}} target to another.

1. {{site.data.keyword.atracker_full_notm}} can route events to [different target types.](/docs/atracker?topic=atracker-target_v2&interface=cli#target_v2_types) If you need to create a new instance to be used as a target, create and configure the new instances.

   If your new target is an {{site.data.keyword.at_full_notm}} hosted event search instance that you are migrating, complete the [{{site.data.keyword.at_full_notm}} hosted event search migration steps first.](#migrate_at_steps)

2. [Create a report of your current configuration.](/docs/atracker?topic=atracker-config_report_v2)

3. Configure your new target according to your target type.

   * [{{site.data.keyword.cos_full_notm}} (COS)](/docs/atracker?topic=atracker-target_v2_cos)
   * [{{site.data.keyword.atracker_full_notm}} hosted event search](/docs/atracker?topic=atracker-target_v2_at)
   * [{{site.data.keyword.messagehub_full}} (Event Streams)](/docs/atracker?topic=atracker-target_v2_ies)

4. Using your current configuration, [configure routes to your new target](/docs/atracker?topic=atracker-route_v2)

5. [Create a report of your new configuration.](/docs/atracker?topic=atracker-config_report_v2) and review that the configuration is as desired.

6. Verify that your events are correctly flowing to your new target location.

7. When you are ready to move to the new target, check that your default target definition does not refer to your old target. If so, [reconfigure your default targets](/docs/atracker?topic=atracker-settings) to refer to your new, or preferred, default targets.

8. Delete the routes to the old target. For more information, see [Deleting a route](/docs/atracker?topic=atracker-route_v2&interface=cli#route-delete-cli).

9. Delete the old target. 

   * [{{site.data.keyword.cos_full_notm}} (COS)](/docs/atracker?topic=atracker-target_v2_cos&interface=cli#target-delete-cli-cos)
   * [{{site.data.keyword.atracker_full_notm}} hosted event search](/docs/atracker?topic=atracker-target_v2_at&interface=cli#target-delete-cli-at)
   * [{{site.data.keyword.messagehub_full}} (Event Streams)](/docs/atracker?topic=atracker-target_v2_ies&interface=cli#target-delete-cli-ies)

10. [Create a report of your final configuration.](/docs/atracker?topic=atracker-config_report_v2) and review that the configuration is as desired.

## Migrating {{site.data.keyword.la_short}} instances
{: #migrate_la}

When migrating an {{site.data.keyword.la_short}} instance you need to consider:

* Is {{site.data.keyword.la_full_notm}} [available in the region](/docs/activity-tracker?topic=activity-tracker-regions) where you want to move your instance?
* Do you have streaming configured?
* Do you have archiving configured?
* Have you cusomized your existing {{site.data.keyword.la_full_notm}} UI in any way and will your new instance require the same customizations?
* Have you configured any alerts on your existing instance?

### Migration steps
{: #migrate_la_steps}

1. [Create a new {{site.data.keyword.la_full_notm}} instance](/docs/log-analysis?topic=log-analysis-provision) in your [desired region.](/docs/log-analysis?topic=log-analysis-regions)

2. [Configure access](/docs/log-analysis?topic=log-analysis-iam) for the new instance.

3. Ensure you have a {{site.data.keyword.la_full_notm}} instance [configured to receive platform logs.](/docs/log-analysis?topic=log-analysis-config_svc_logs)

   Platform logs are logs generated by the {{site.data.keyword.cloud_notm}}. These logs can be sent to only one {{site.data.keyword.la_full_notm}} instance in a region.
   {: note}

4. On the new instance, configure any desired streaming.

   * To another [{{site.data.keyword.la_full_notm}} instance.](/docs/log-analysis?topic=log-analysis-streaming-configure-l2l)

   * To an [{{site.data.keyword.messagehub_full}} instance.](/docs/log-analysis?topic=log-analysis-streaming-configure)

5. On the new instance, configure any desired [archiving.](/docs/log-analysis?topic=log-analysis-archiving-ov)

6. [Customize the UI](/docs/log-analysis?topic=log-analysis-config) for the new instance as desired. This includes [configuring any views](/docs/log-analysis?topic=log-analysis-view_logs) that you might need.

7. Create any [alerts](/docs/log-analysis?topic=log-analysis-alerts) required for your organization on the new instance.

Run your current {{site.data.keyword.la_short}} instance and new {{site.data.keyword.la_short}} instance in parallel for a period of time to make sure your new instance is configured as desired.
{: tip}

When the old instance is no longer required, it can be [removed.](/docs/log-analysis?topic=log-analysis-remove)

## Migrating {{site.data.keyword.mon_short}} instances
{: #migrate_mon}

When migrating an {{site.data.keyword.mon_short}} instance you need to consider:

* Is {{site.data.keyword.mon_full_notm}} [available in the region](/docs/monitoring?topic=monitoring-regions) where you want to move your instance?
* Are you using the `Graduated Tier - Sysdig Secure + Monitor` plan allowing you access to both {{site.data.keyword.mon_full_notm}} and {{site.data.keyword.sysdigsecure_full_notm}}?
* Do you have any customized dashboards you need to use on the new instance?
* Is your existing instance configured to stream metrics to a Kafka service?
* Have you configured any alerts on your existing instance? 

### Migration steps
{: #migrate_mon_steps}

1. [Create a new {{site.data.keyword.mon_full_notm}} instance](/docs/monitoring?topic=monitoring-provision) in your [desired region.](/docs/monitoring?topic=monitoring-regions)

2. [Configure access](/docs/monitoring?topic=monitoring-iam) for the new instance.

3. Ensure you have a {{site.data.keyword.mon_full_notm}} instance [configured to receive platform metrics.](/docs/monitoring?topic=monitoring-platform_metrics_enabling)

   Platform metrics are metrics generated by the {{site.data.keyword.cloud_notm}}. These metrics can be sent to only one {{site.data.keyword.mon_full_notm}} instance in a region.
   {: note}

4. [Create any custom dashboards](/docs/monitoring?topic=monitoring-dashboards) on the new instance.

5. On the new instance, [configure streaming to your Kafka service](/docs/monitoring?topic=monitoring-data_streaming) if required.

6. Create any [alerts](https://docs.sysdig.com/en/docs/sysdig-monitor/alerts/configure-alerts/){: external} required for your organization on the new instance.

7. If you are using the `Graduated Tier - Sysdig Secure + Monitor` plan, see the [{{site.data.keyword.sysdigsecure_full_notm}} documentation](/docs/workload-protection) for information on items you might need to set up in your new {{site.data.keyword.mon_full_notm}} instance. For example:

   * Posture management
   * Policies
   * Alerts

Run your current {{site.data.keyword.mon_short}} instance and new {{site.data.keyword.la_short}} instance in parallel for a period of time to make sure your new instance is configured as desired.
{: tip}

When the old instance is no longer required, it can be [removed.](/docs/monitoring?topic=monitoring-remove)

## Migrating {{site.data.keyword.metrics_router_full_notm}} instances
{: #migrate_mr}

Because you do not create an {{site.data.keyword.metrics_router_full_notm}} instance, you will not move an instance from one region to another. Instead, you might need to change your target definitions from one {{site.data.keyword.metrics_router_full_notm}} target to another.

1. If you need to create a new {{site.data.keyword.mon_full_notm}} instance that will be used as a target to replace an existing {{site.data.keyword.mon_full_notm}} instance, follow the [steps to migrate your exiting {{site.data.keyword.mon_full_notm}} instance.](#migrate_mon_steps)

2. [Create a report of your current configuration.](/docs/metrics-router?topic=metrics-router-config_report)

3. [Configure a target to the new {{site.data.keyword.mon_full_notm}} instance.](/docs/metrics-router?topic=metrics-router-target-manage)

4. Using your current configuration, [configure routes to your new target](/docs/metrics-router?topic=metrics-router-route-manage)

5. [Create a report of your new configuration.](/docs/metrics-router?topic=metrics-router-config_report) and review that the configuration is as desired.

6. Verify that your metrics are correctly flowing to your new target location.

7. When you are ready to move to the new target, check that your default target definition does not refer to your old target. If so, [reconfigure your default targets](/docs/metrics-router?topic=metrics-router-target-default) to refer to your new, or preferred, default targets.

8. Delete the routes to the old target. For more information, see [Deleting a route](/docs/metrics-router?topic=metrics-router-route-manage&interface=cli#route-manage-cli-delete).

9. Delete the old target. For more information, see [Deleting a target using the CLI](/docs/metrics-router?topic=metrics-router-target-manage&interface=cli#target-manage-cli-delete).

10. [Create a report of your final configuration.](/docs/metrics-router?topic=metrics-router-config_report) and review that the configuration is as desired.

